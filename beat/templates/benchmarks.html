{% extends "base_site.html" %}
{% block title %}Benchmarks{% endblock %}
{% block content %}
		<script type="text/javascript" language="javascript" src="{{ MEDIA_URL }}js/filter.js"></script>
		<script type="text/javascript" language="javascript" src="{{ MEDIA_URL }}js/json2.js"></script>
		<h2>Benchmark Table</h2>
		
		<!-- FILTER TABLE -->
		<form onsubmit="return false;">
			<table style="width:480px" id="filters" cellpadding="0" cellspacing="0">
				<tr id="filterrow0">
					<td width="320" align="left">
						<select size="1" class="filterType" id="filterType0" onchange="changeFilterType(this,0);">
							<option value="empty">&lt;empty&gt;</option>
							<option value="model">Model</option>
							<option value="algorithm">Algorithm</option>
							<option value="tool">Tool</option>
							<option value="date">Date</option>
							<option value="memory">Memory</option>
							<option value="runtime">Runtime</option>
							<option value="states">states</option>
							<option value="transitions">transitions</option>
							<option value="options">Options</option>
							<option value="finished">Finished</option>
						</select>
						<ul class="mega">
							<li class="mega">
								<select size="1" class="filterStyle" id="filterStyle0">
									<option value="empty">&lt;empty&gt;</option>
								</select>
							</li>
						</ul>
						<input type="text" class="filterValue" id="filterValue0">
					</td>
					<td align="right" style="width:160px">
						<a class="remove" onclick="removeFilterRow(0);"><img src="{{ MEDIA_URL }}img/remove_filter.png" alt="remove"></a>
						<a class="add" onclick="addFilterRow(0);"><img src="{{ MEDIA_URL }}img/add_filter.png" alt="add"></a>
					</td>
				</tr>
			</table>
			<input type="submit" value="Filter" onclick="filter();" /><span id="ajaxload"></span>
			<select size="1" class="sort" id="sort" onchange="changeSort(this.value);">
				
			</select>
			<select size="1" class="sortorder" id="sortorder" onchange="changeSortOrder(this.value);">
				<option value="ASC">Ascending</option>
				<option value="DESC">Descending</option>
			</select>
		</form>
		<!-- END FILTER TABLE -->
		
		<!-- BENCHMARK TABLE -->
		<div class="scroll">
			<form action="{% url benchmarks.views.compare %}" method="post">{% csrf_token %}
				<table class="benchmarks">
					<tr>
						<th>&nbsp;</th>
						<th id="modelsort" class="sort">Model</th>
						<th id="statessort" class="sort">States</th>
						<th id="runtimesort" class="sort">Runtime</th>
						<th id="memorysort" class="sort">Memory (RSS)</th>
						<th id="finishedsort" class="sort">Finished</th>
					</tr>
					
					{% for benchmark in benchmarks.object_list %}
					<tr>
						<td><input type="checkbox" name="benchmarks" id="{{ benchmark.id }}" value="{{ benchmark.id }}" /></td>
						
						<td><label for="{{ benchmark.id }}">{{ benchmark.model }}</label></td>
						<td>{{ benchmark.states_count }}</td>
						<td>{{ benchmark.total_time }}</td>
						<td>{{ benchmark.memory_RSS }}</td>
						<td>{{ benchmark.finished }}</td>
						
					</tr>
					{% endfor %}
				
					<!-- PAGINATION START -->
					<tr>
						<th colspan="6">
							
							{% if benchmarks.has_previous %}
								<a href="?page=1">|<</a>
								<a href="?page={{ benchmarks.previous_page_number }}"><<</a>
							{% else %}
								|< <<
							{% endif %}

							Page {{ benchmarks.number }} of {{ benchmarks.paginator.num_pages }}

							{% if benchmarks.has_next %}
								<a href="?page={{ benchmarks.next_page_number }}">>></a>
								<a href="?page=benchmarks.num_pages">>|</a>
							{% else %}
								>> >|
							{% endif %}
							
							<br />
							Showing {{ benchmarks.start_index }} - {{ benchmarks.end_index }} of {{ benchmarks.paginator.count }}
						</th>
					</tr>
					<!-- PAGINATION END -->
				</table>
				<input type="submit" value="Compare" />
			</form>
		</div>
		<!-- END BENCHMARK TABLE -->
{% endblock %}